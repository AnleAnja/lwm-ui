<ng-container *ngIf="student$ | async as student">
    <h1>{{formatUser(student)}}</h1>

    <div>
        <mat-icon>email</mat-icon>
        <a [href]="mail(student)">{{student.email}}</a>
    </div>

    <div>
        <mat-icon>school</mat-icon>
        <span *ngIf="enrollment(student) as enroll">{{enroll}}</span>
    </div>


    <ng-container *ngIf="cardsByCourse$ | async as cards">
        <h1>Notenhefte</h1>
        <ng-container *ngFor="let byCourse of cards | sort: sortByCourse()">
            <h2>{{byCourse.course.abbreviation}}</h2>

            <mat-accordion [multi]="true">
                <mat-expansion-panel *ngFor="let entry of byCourse.reportCardEntries | sort: sortBySemester()">
                    <mat-expansion-panel-header (click)="bindDataSource(entry)">
                        <mat-panel-title>
                            {{accordionTitle(entry.labwork)}}
                        </mat-panel-title>
                        <!--                <mat-panel-description>-->
                        <!--                display if passed or not-->
                        <!--                    {{x.value.length}} Praktia mit {{sumApplications(x.value)}} Anmeldungen-->
                        <!--                </mat-panel-description>-->
                    </mat-expansion-panel-header>

                    <ng-template matExpansionPanelContent>
                        <ng-container>
                            <lwm-report-card-table [tableModel]="dataSources.get(entry)"
                                                   [auths]="auths()"
                                                   [tableContentFor]="tableContentFor">
                            </lwm-report-card-table>
                        </ng-container>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
        </ng-container>
    </ng-container>


</ng-container>

